//  it almost works but for some reason it doesn't let me know if anybody find out why.

// var maxIncreaseKeepingSkyline = function(grid) {
//     const columRowMap = new Map();

//     // get max row values.
//     for(let i = 0; i < grid.length; i++) {
//         let maxRow = 0;
//         for(let j = 0; j < grid[0].length; j++) {
//             maxRow = Math.max(grid[i][j], maxRow); 
//         }

//         for(let j = 0; j < grid[0].length; j++) {
//             columRowMap.set( i.toString() + j.toString() ,{row: maxRow, column: 0});
//         }  
//     }
//     // for max colum value
//     for(let i = 0; i < grid[0].length; i++) {
//         let maxColum = 0;
//         for(let j = 0; j < grid.length; j++) {
//             maxColum = Math.max(grid[j][i], maxColum); 
//         }

//         for(let j = 0; j < grid.length; j++) {
//             const ref = columRowMap.get(j.toString() + i.toString());
//             ref.column = maxColum;
//         }  
//     }
//     console.log(columRowMap);
//     let totalMax = 0;
//     // main loop to count the maximum total sum;
//     for(let i = 0; i < grid.length; i++) {
//         for(let j = 0; j < grid[0].length; j++) {
//             totalMax += Math.min( columRowMap.get(i.toString() + j.toString()).column,  columRowMap.get(i.toString() + j.toString()).row) - grid[i][j];
//         }
//     }


//     return totalMax;
// };

// this is good solution.
var maxIncreaseKeepingSkyline = function(grid) {
  let rowArr = Array(grid.length).fill(0);
  let columArr = Array(grid[0].length).fill(0);

  for(let i = 0; i < grid.length; i++) {
      for(let j = 0; j < grid[0].length; j++) {
          rowArr[i] = Math.max(rowArr[i], grid[i][j]);
          columArr[j] = Math.max(columArr[j], grid[i][j]);
      }
  }

  let totalSum = 0;
  for(let i = 0; i < grid.length; i++) {
      for(let j = 0; j < grid[0].length; j++) {
        totalSum += Math.min(rowArr[i], columArr[j]) - grid[i][j];
      }
  }

  return totalSum;
};
const city = [[28,88,75,48,89,77,34,65,11,60,44,54,2,41,46,77,18,64,62,35,85,8,36,81,68,0,72,89,6,16,52,46,88,99,44,2,71,15,10,1,93,20,67,39,51,13,60,89,54,39],[35,54,92,67,48,78,37,71,11,68,61,92,45,1,87,16,74,40,12,72,50,71,78,76,79,49,100,46,56,5,11,28,29,70,45,76,8,38,68,55,43,76,86,19,46,69,100,87,7,36],[61,92,12,31,63,29,13,49,14,51,44,44,71,69,72,33,12,57,97,15,4,4,2,93,68,84,97,95,40,59,41,42,79,53,24,55,78,18,10,9,59,50,92,99,41,47,89,35,46,87],[63,57,48,95,51,62,13,0,23,83,62,39,80,91,0,0,14,38,73,64,66,7,59,59,61,97,44,72,82,11,50,59,40,38,92,3,15,57,46,55,79,53,33,34,78,46,49,63,97,89],[12,57,17,0,89,63,97,87,11,33,93,46,54,36,65,67,24,73,75,55,12,73,32,16,39,42,87,74,56,35,51,100,8,92,20,81,69,26,89,4,63,52,73,41,19,55,31,72,54,59],[11,87,72,78,9,63,52,14,13,49,35,40,16,29,58,87,14,13,37,14,63,33,36,75,63,1,65,50,89,92,91,19,19,21,78,57,70,75,26,49,79,6,87,62,50,70,92,41,57,22],[70,99,93,37,75,5,77,48,27,1,48,75,20,76,55,31,65,81,30,51,69,100,42,43,0,1,80,82,27,99,59,39,32,81,91,76,16,82,93,1,90,94,33,58,81,9,1,19,57,30],[9,67,32,35,41,32,56,13,22,75,41,39,61,37,69,72,24,16,60,9,92,74,54,50,13,64,40,97,73,18,59,34,55,67,90,58,38,67,70,45,36,81,93,26,58,60,4,26,95,61],[61,90,33,54,61,73,36,50,25,82,14,85,43,64,51,95,70,52,9,37,26,48,58,89,76,90,64,94,19,95,10,94,46,83,57,3,16,22,46,18,82,27,78,3,37,6,77,44,71,12],[19,37,85,93,61,66,0,62,31,82,40,67,66,89,94,95,65,78,60,90,80,58,49,48,47,25,93,49,79,42,16,20,100,91,9,39,70,52,18,0,4,51,15,63,81,52,74,89,37,16],[1,63,43,76,79,100,20,59,28,19,100,74,12,95,37,54,2,68,21,47,23,51,2,45,21,37,47,100,86,47,28,26,10,64,57,32,22,96,54,57,21,92,31,77,83,72,53,86,4,40],[0,88,23,78,71,41,7,84,15,100,67,85,62,89,74,1,3,16,80,21,15,53,0,9,74,3,42,12,9,51,89,10,19,24,1,23,61,76,93,11,87,42,89,63,57,39,61,58,82,48],[14,93,48,88,36,57,12,77,20,72,54,4,67,31,34,52,63,92,66,47,35,59,61,68,34,62,95,69,47,75,8,70,5,50,93,26,31,33,35,47,98,4,13,66,63,35,57,59,27,65],[35,44,77,32,100,3,16,34,13,7,72,37,38,27,47,29,45,40,70,10,66,9,60,67,20,10,30,44,67,89,40,44,24,11,5,36,60,39,90,0,94,10,46,85,78,68,60,55,83,32],[27,45,4,44,16,77,57,87,8,83,16,14,70,15,93,94,76,35,41,40,43,57,35,76,65,74,88,55,57,32,51,43,41,12,89,54,84,23,97,93,55,23,92,1,72,6,36,17,94,80],[89,5,72,11,61,57,5,5,74,57,99,100,55,23,7,91,83,1,71,30,77,43,58,14,45,78,74,46,6,31,61,72,64,28,55,10,73,61,16,90,58,0,16,92,97,94,85,94,45,85],[36,65,61,9,91,83,19,48,47,7,62,0,87,54,43,63,37,34,87,73,32,80,29,83,54,56,11,32,54,12,1,54,96,71,56,90,82,46,60,100,40,5,75,24,60,22,62,74,7,40],[15,59,72,66,40,5,81,51,62,1,48,23,51,9,16,91,90,14,51,84,67,23,4,42,69,26,53,61,28,45,44,91,86,24,99,16,53,72,43,9,87,24,20,67,1,36,8,62,46,67],[18,24,100,65,53,19,69,37,84,47,7,10,29,9,63,53,73,6,23,18,20,82,65,98,41,97,10,30,34,10,2,55,97,34,38,94,35,38,67,23,57,1,24,39,68,53,88,30,75,99],[97,90,12,52,67,22,87,24,9,54,79,96,84,20,68,12,0,5,45,39,11,72,33,35,83,2,23,74,89,28,75,29,28,99,32,29,84,42,38,69,89,43,37,85,70,70,80,80,100,15],[38,89,0,95,18,86,31,60,62,72,55,63,85,40,98,8,19,36,7,44,25,10,72,100,40,68,34,99,28,62,40,3,57,85,13,10,29,59,73,85,56,15,71,2,7,80,9,10,79,15],[20,70,90,100,19,52,28,58,5,39,45,93,59,91,2,81,29,40,78,72,41,12,61,25,60,67,21,79,47,54,29,10,14,56,2,5,71,57,91,47,10,98,85,33,8,2,67,75,46,98],[79,86,89,23,25,65,37,79,86,92,48,12,68,28,100,82,8,95,39,60,60,75,87,35,64,87,4,83,66,94,31,87,41,54,72,21,31,43,56,96,60,18,80,75,61,99,50,34,35,35],[50,41,0,20,57,13,12,10,42,97,92,82,78,66,83,15,85,15,92,55,17,87,6,48,61,27,98,70,27,14,5,59,1,90,77,33,46,36,41,73,26,85,48,36,17,50,56,23,45,89],[33,23,1,74,62,29,6,68,87,13,93,95,85,12,56,4,50,40,69,8,66,64,34,61,94,48,95,51,29,61,71,35,82,15,20,14,99,24,60,81,7,26,99,70,47,31,21,98,80,26],[49,5,89,31,40,85,84,89,18,17,28,33,30,19,47,57,38,100,16,83,5,36,14,37,46,25,49,24,14,3,62,94,60,45,9,0,51,11,5,70,56,82,83,28,20,29,4,13,85,21],[28,91,90,81,68,83,54,32,19,91,41,2,99,1,50,6,70,5,1,6,83,77,13,18,37,2,19,72,71,91,16,48,80,98,91,51,24,31,54,10,48,90,17,88,44,80,95,71,89,57],[37,25,96,41,21,91,37,74,32,32,37,58,71,85,66,20,42,33,23,83,29,91,27,8,63,85,70,34,49,80,42,49,97,46,100,94,46,69,95,23,77,77,64,79,33,90,88,26,21,95],[59,39,13,15,10,13,66,41,12,69,48,6,17,34,74,77,63,59,30,17,92,90,91,74,69,88,52,42,97,56,57,68,11,25,62,84,87,64,56,3,69,74,21,80,37,32,3,30,47,44],[87,73,94,49,66,1,79,64,59,99,48,35,89,97,24,48,15,12,62,96,61,41,6,33,32,4,38,88,11,50,85,77,58,11,83,11,70,84,8,88,11,2,82,30,79,92,41,70,63,26],[21,93,28,63,69,0,51,32,84,21,43,33,36,85,28,99,29,18,31,71,49,29,44,81,2,64,18,29,56,38,86,14,86,8,12,69,47,26,96,41,67,85,40,78,13,90,78,18,74,90],[83,41,66,59,11,7,35,61,34,30,25,3,67,97,76,62,76,59,12,5,4,50,11,41,58,17,89,31,27,82,27,18,18,38,81,86,87,87,6,80,22,16,38,20,15,12,13,70,26,90],[55,19,3,34,14,19,11,85,72,16,8,12,87,89,16,61,54,64,79,71,16,23,73,80,69,81,51,55,37,82,76,41,33,36,68,35,5,3,46,39,77,1,38,41,21,11,26,92,59,57],[11,12,24,58,82,54,58,8,18,60,75,20,89,99,80,87,39,24,80,62,25,63,46,51,3,19,63,26,52,27,95,76,50,8,54,92,74,46,93,92,51,62,79,31,25,17,25,1,21,51],[7,3,49,27,14,95,35,20,82,84,93,100,99,27,38,60,69,22,6,60,83,32,80,91,69,20,1,44,75,4,76,41,89,2,30,16,78,37,61,15,40,20,25,73,28,77,40,95,16,79],[77,51,57,92,29,33,42,32,87,68,77,57,34,70,11,62,43,12,54,96,48,62,70,61,28,35,70,75,100,83,100,2,76,82,66,21,28,78,8,35,87,28,48,60,80,87,48,82,98,46],[90,90,29,79,43,13,47,70,22,73,21,77,21,70,65,37,43,12,83,90,41,4,64,69,38,77,20,3,64,94,84,76,48,58,2,25,7,68,50,55,73,76,88,67,53,77,52,65,97,89],[58,48,26,10,63,45,20,44,67,81,20,22,76,94,48,71,86,34,65,100,38,61,25,5,48,97,25,70,56,69,85,85,59,71,23,16,94,98,94,68,8,1,5,14,38,2,16,34,69,30],[88,49,57,82,45,21,1,74,46,98,69,7,72,60,88,49,64,71,9,42,25,28,71,15,42,60,0,0,73,72,22,89,67,35,25,32,19,82,0,46,63,95,81,58,41,19,41,43,70,42],[62,58,85,57,73,92,80,41,83,6,21,88,53,60,48,14,80,93,71,24,60,49,3,67,23,74,98,40,6,45,20,25,33,29,59,52,10,94,6,2,2,82,35,22,68,37,18,19,100,82],[46,48,20,92,39,67,46,74,74,77,60,41,39,12,25,13,46,53,26,59,25,10,61,66,1,48,73,85,33,4,66,31,49,18,39,21,80,68,1,8,27,69,59,72,48,25,8,47,40,93],[91,89,28,88,82,50,6,40,87,92,99,9,63,65,7,52,65,24,18,61,27,40,52,18,57,65,8,37,64,97,15,95,34,46,2,86,47,93,42,16,21,71,27,51,47,34,83,58,39,60],[48,60,20,30,60,73,37,29,92,37,21,100,34,83,31,67,47,75,51,32,65,53,54,73,85,9,30,82,93,31,81,11,56,15,100,8,98,8,65,41,52,39,19,54,15,24,77,74,92,26],[18,71,39,54,12,4,28,37,66,71,23,31,53,69,32,57,34,40,10,50,87,83,95,31,44,27,61,41,14,46,12,2,13,77,17,84,21,86,66,82,62,50,100,92,84,93,23,92,39,54],[11,51,59,89,83,82,76,36,26,67,52,50,26,43,86,9,87,73,35,26,48,7,95,90,86,9,30,85,30,50,53,96,98,26,67,82,20,59,26,13,18,0,68,11,5,29,55,45,58,88],[44,53,37,64,15,26,14,60,0,75,24,99,19,2,46,62,22,76,45,5,83,14,53,99,89,37,34,41,38,30,61,77,46,11,54,100,39,0,36,28,50,37,85,61,25,70,98,29,1,92],[19,30,83,65,28,54,21,49,5,96,72,63,12,18,38,65,24,83,53,0,97,69,85,16,84,79,61,76,33,18,62,47,87,43,57,31,10,77,25,68,5,66,40,36,89,73,27,93,48,50],[5,19,82,38,65,26,26,34,69,47,89,80,70,5,22,100,41,23,88,63,12,10,7,71,52,64,61,26,39,4,41,94,2,33,48,99,5,45,24,27,99,34,49,79,32,59,0,45,82,77],[79,80,59,19,83,89,25,38,15,16,9,75,55,23,9,49,47,5,8,62,33,0,21,18,83,29,73,3,95,25,82,54,88,37,11,2,64,92,34,81,86,62,96,85,56,95,10,33,51,7],[84,38,29,2,48,75,46,41,83,39,27,29,89,96,46,66,37,4,18,40,15,1,28,94,61,50,18,96,66,24,71,37,24,40,61,10,73,52,39,77,98,2,12,18,49,45,22,76,15,46]]

console.log(maxIncreaseKeepingSkyline(city));